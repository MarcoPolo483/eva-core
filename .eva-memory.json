{
  "$schema": ".eva/.eva-memory.schema.json",
  "version": "2.0.0",
  "repo": {
    "name": "eva-core",
    "pod": "POD-F",
    "purpose": "Domain models and business logic for EVA Suite. Provides User, Tenant, Space, Document, Query, Conversation entities with Pydantic validation. Repository interfaces for data access. Domain events for event-driven architecture. Reference implementation: OpenWebUI model patterns (SQLAlchemy + Pydantic).",
    "status": "active",
    "owner": "P04-LIB + P15-DVM",
    "dependencies": [
      "eva-orchestrator (specification in docs/SPECIFICATION.md)",
      "pydantic (2.x for validation)",
      "pytest (testing framework)",
      "hypothesis (property-based testing)",
      "mypy (type checking)",
      "ruff (linting/formatting)"
    ],
    "lastUpdated": "2025-12-07T00:00:00Z"
  },
  "scope": {
    "memoryScope": "repo",
    "repoTreePath": ".eva-cache/repo-tree.txt",
    "suiteTreePath": "../eva-lwo/eva-suite-full-tree.txt"
  },
  "workspace": {
    "version": "1.0.0",
    "rules": {}
  },
  "memoryPolicy": {
    "maxLessonSummaryChars": 400,
    "requireEvidencePathsForClaims": true,
    "lessonStorage": "centralized-catalog",
    "catalogPath": "memory/catalog.json",
    "lessonPath": "memory/lessons/"
  },
  "context": {
    "summary": "CRITICAL: BEFORE ANY WORK, read complete specification: docs/SPECIFICATION.md (1042 lines). Contains ALL domain entity requirements (User, Tenant, Space, Document, Query, Conversation), business logic, validation rules, domain events, repository interfaces, 12 quality gates, and 6-phase implementation plan. Use OpenWebUI model patterns (SQLAlchemy + Pydantic + JSON metadata + access control). Follow specification TO THE LETTER. No shortcuts. All 12 quality gates must pass (100% test coverage, 100% type safety with mypy strict, Hypothesis property tests, MkDocs documentation, Python package published).",
    "keyFiles": [
      "docs/SPECIFICATION.md (MUST READ FIRST - 1042 lines)",
      "src/eva_core/domain/entities/user.py (User aggregate root)",
      "src/eva_core/domain/entities/space.py (Space aggregate root)",
      "src/eva_core/domain/entities/document.py (Document entity)",
      "src/eva_core/repositories/base.py (Repository interface)",
      "pyproject.toml (dependencies, package metadata)"
    ],
    "currentPhase": "BLOCKED: Must read docs/SPECIFICATION.md FIRST before any implementation work",
    "openIssues": 0,
    "blockers": [
      "CRITICAL: Cannot start implementation without reading complete specification in docs/SPECIFICATION.md",
      "CRITICAL: All 12 quality gates must pass (100% coverage, mypy strict, Hypothesis tests, packaging)",
      "CRITICAL: Follow OpenWebUI model patterns exactly (SQLAlchemy schema + Pydantic models + JSON metadata)"
    ]
  },
  "quality": {
    "testCoverage": 0,
    "lintWarnings": 0,
    "typeScriptStrict": false,
    "wcagCompliance": "N/A",
    "bilingualStatus": "EN-CA/FR-CA (entity names, validation error messages)"
  },
  "knowledgeRegistry": {
    "version": "3.0.0",
    "model": "centralized-registry",
    "catalogPath": "memory/catalog.json",
    "toolsRegistry": "tools/registry.json",
    "patternsDir": "docs/eva-patterns/"
  },
  "applied": {
    "lessons": [
      "LESSON-106",
      "LESSON-107",
      "LESSON-108",
      "LESSON-109",
      "LESSON-110"
    ],
    "tools": [
      "pytest + pytest-asyncio (testing)",
      "hypothesis (property-based testing)",
      "mypy --strict (type checking)",
      "ruff (linting + formatting)",
      "MkDocs + mkdocstrings (documentation)",
      "poetry (dependency management)"
    ],
    "patterns": [
      "Aggregate Roots: Space (contains Documents), User (contains Preferences)",
      "Value Objects: Email, PhoneNumber, SIN (immutable, with masking)",
      "Domain Events: SpaceCreated, DocumentAdded, QueryExecuted",
      "Repository Pattern: Abstract base, get_by_id/save/delete/list",
      "Tenant Isolation: All entities have tenant_id, queries filtered by tenant"
    ]
  },
  "reports": {
    "lastHousekeeping": null,
    "lastAudit": null,
    "lastTestRun": null,
    "cachePath": ".eva-cache/"
  },
  "bootstrap": {
    "readOnOpen": true,
    "autoUpdate": "nightly",
    "backupEnabled": true,
    "backupPath": ".eva-cache/backups/"
  },
  "_metadata": {
    "createdBy": "EVA-Orchestrator Specification Generation (eva-core domain models)",
    "createdAt": "2025-12-07T00:00:00Z",
    "templateVersion": "1.0.0",
    "lastModifiedBy": "GitHub Copilot (P04-LIB + P15-DVM)",
    "lastModifiedAt": "2025-12-07T00:00:00Z"
  }
}
